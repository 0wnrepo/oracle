

FROM ubuntu:12.04
MAINTAINER Sean Lavine <sean@vaurum.com>

RUN apt-get update
RUN apt-get install --yes build-essential libssl-dev libboost-all-dev

RUN apt-get install --yes python-software-properties
RUN add-apt-repository --yes ppa:bitcoin/bitcoin
RUN apt-get update
RUN apt-get install --yes db4.8

RUN apt-get install --yes git

RUN adduser --disabled-login --gecos "" tester

WORKDIR /home/tester

RUN git clone https://github.com/freewil/bitcoin.git
RUN cd bitcoin && git checkout easy-mining
RUN cd bitcoin/src && make -f makefile.unix USE_UPNP=

RUN cp bitcoin/src/bitcoind /usr/local/bin/bitcoind

ADD . /home/tester/bitcoin-testnet-box

RUN chown -R tester:tester /home/tester/bitcoin-testnet-box

USER tester

WORKDIR /home/tester/bitcoin-testnet-box

EXPOSE 19001 19011
CMD ["/bin/bash"]


